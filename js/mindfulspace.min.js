import"./main.min.js";import{g as y,d as A,s as v,a as T,b as L,F as g}from"./common.min.js";function S(){const d=document.querySelectorAll("[data-fls-tabs]");let c=[];if(d.length>0){const s=y();s&&s.startsWith("tab-")&&(c=s.replace("tab-","").split("-")),d.forEach((t,a)=>{t.classList.add("--tab-init"),t.setAttribute("data-fls-tabs-index",a),t.addEventListener("click",b),n(t)});let e=A(d,"flsTabs");e&&e.length&&e.forEach(t=>{t.matchMedia.addEventListener("change",function(){h(t.itemsArray,t.matchMedia)}),h(t.itemsArray,t.matchMedia)})}function h(s,e){s.forEach(t=>{t=t.item;let a=t.querySelector("[data-fls-tabs-titles]"),l=t.querySelectorAll("[data-fls-tabs-title]"),o=t.querySelector("[data-fls-tabs-body]"),r=t.querySelectorAll("[data-fls-tabs-item]");l=Array.from(l).filter(i=>i.closest("[data-fls-tabs]")===t),r=Array.from(r).filter(i=>i.closest("[data-fls-tabs]")===t),r.forEach((i,f)=>{e.matches?(o.append(l[f]),o.append(i),t.classList.add("--tab-spoller")):(a.append(l[f]),t.classList.remove("--tab-spoller"))})})}function n(s){let e=s.querySelectorAll("[data-fls-tabs-titles]>*"),t=s.querySelectorAll("[data-fls-tabs-body]>*");const a=s.dataset.flsTabsIndex,l=c[0]==a;if(l){const o=s.querySelector("[data-fls-tabs-titles]>.--tab-active");o&&o.classList.remove("--tab-active")}t.length&&t.forEach((o,r)=>{e[r].setAttribute("data-fls-tabs-title",""),o.setAttribute("data-fls-tabs-item",""),l&&r==c[1]&&e[r].classList.add("--tab-active"),o.hidden=!e[r].classList.contains("--tab-active")})}function u(s){let e=s.querySelectorAll("[data-fls-tabs-title]"),t=s.querySelectorAll("[data-fls-tabs-item]");const a=s.dataset.flsTabsIndex;function l(r){if(r.hasAttribute("data-fls-tabs-animate"))return r.dataset.flsTabsAnimate>0?Number(r.dataset.flsTabsAnimate):500}const o=l(s);if(t.length>0){const r=s.hasAttribute("data-fls-tabs-hash");t=Array.from(t).filter(i=>i.closest("[data-fls-tabs]")===s),e=Array.from(e).filter(i=>i.closest("[data-fls-tabs]")===s),t.forEach((i,f)=>{e[f].classList.contains("--tab-active")?(o?v(i,o):i.hidden=!1,r&&!i.closest(".popup")&&T(`tab-${a}-${f}`)):o?L(i,o):i.hidden=!0})}}function b(s){const e=s.target;if(e.closest("[data-fls-tabs-title]")){const t=e.closest("[data-fls-tabs-title]"),a=t.closest("[data-fls-tabs]");if(!t.classList.contains("--tab-active")&&!a.querySelector(".--slide")){let l=a.querySelectorAll("[data-fls-tabs-title].--tab-active");l.length&&(l=Array.from(l).filter(o=>o.closest("[data-fls-tabs]")===a)),l.length&&l[0].classList.remove("--tab-active"),t.classList.add("--tab-active"),u(a)}s.preventDefault()}}}window.addEventListener("load",S);const m="fls-user-theme";function p(){return new Date().getHours()}function _(){const d=document.documentElement,c=document.querySelector("[data-fls-darklite]");if(!c)return;const h=Array.from(c.querySelectorAll(".theme-aside__item"));function n(){const e=localStorage.getItem(m);if(e)return e;const t=document.querySelector("[data-fls-darklite-time]");if(t){let a=t.dataset.flsDarkliteTime||"18,5";const[l,o]=a.split(","),r=+l,i=+o,f=p();return(r<=i?f>=r&&f<=i:f>=r||f<=i)?"dark":"light"}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function u(e,{save:t=!1}={}){d.setAttribute("data-theme",e),h.forEach(a=>{const l=a.dataset.theme;a.classList.toggle("theme-aside__item--active",l===e)}),t&&localStorage.setItem(m,e)}const b=n();u(b),window.matchMedia&&!localStorage.getItem(m)&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const a=t.matches?"dark":"light";u(a)}),c.addEventListener("click",e=>{const t=e.target.closest(".theme-aside__item");if(!t)return;const a=t.dataset.theme;a&&u(a,{save:!0})});const s=document.querySelector("[data-fls-darklite-reset]");s&&s.addEventListener("click",()=>{localStorage.removeItem(m);const e=n();u(e,{save:!1})}),g&&g.log&&g.log(`Darklite: \u0430\u043A\u0442\u0438\u0432\u043D\u0430 \u0442\u0435\u043C\u0430 "${b}"`)}window.addEventListener("load",_),(()=>{const d=document.querySelector(".aside__body"),c=document.querySelector(".aside__burger");if(!d||!c)return;function h(){const n=d.classList.toggle("aside__body--active");c.classList.toggle("aside__burger--close",n),typeof bodyLockToggle=="function"&&bodyLockToggle()}c.addEventListener("click",n=>{n.preventDefault(),h()}),document.addEventListener("click",n=>{if(!d.classList.contains("aside__body--active"))return;const u=n.target.closest(".aside__body"),b=n.target.closest(".aside__burger");!u&&!b&&h()})})();
