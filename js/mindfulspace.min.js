import"./main.min.js";import{g as D,d as B,s as N,a as F,b as M,F as A}from"./common.min.js";function H(){const o=document.querySelectorAll("[data-fls-tabs]");let d=[];if(o.length>0){const n=D();n&&n.startsWith("tab-")&&(d=n.replace("tab-","").split("-")),o.forEach((t,a)=>{t.classList.add("--tab-init"),t.setAttribute("data-fls-tabs-index",a),t.addEventListener("click",g),f(t)});let s=B(o,"flsTabs");s&&s.length&&s.forEach(t=>{t.matchMedia.addEventListener("change",function(){b(t.itemsArray,t.matchMedia)}),b(t.itemsArray,t.matchMedia)})}function b(n,s){n.forEach(t=>{t=t.item;let a=t.querySelector("[data-fls-tabs-titles]"),c=t.querySelectorAll("[data-fls-tabs-title]"),i=t.querySelector("[data-fls-tabs-body]"),m=t.querySelectorAll("[data-fls-tabs-item]");c=Array.from(c).filter(r=>r.closest("[data-fls-tabs]")===t),m=Array.from(m).filter(r=>r.closest("[data-fls-tabs]")===t),m.forEach((r,e)=>{s.matches?(i.append(c[e]),i.append(r),t.classList.add("--tab-spoller")):(a.append(c[e]),t.classList.remove("--tab-spoller"))})})}function f(n){let s=n.querySelectorAll("[data-fls-tabs-titles]>*"),t=n.querySelectorAll("[data-fls-tabs-body]>*");const a=n.dataset.flsTabsIndex,c=d[0]==a;if(c){const i=n.querySelector("[data-fls-tabs-titles]>.--tab-active");i&&i.classList.remove("--tab-active")}t.length&&t.forEach((i,m)=>{s[m].setAttribute("data-fls-tabs-title",""),i.setAttribute("data-fls-tabs-item",""),c&&m==d[1]&&s[m].classList.add("--tab-active"),i.hidden=!s[m].classList.contains("--tab-active")})}function u(n){let s=n.querySelectorAll("[data-fls-tabs-title]"),t=n.querySelectorAll("[data-fls-tabs-item]");const a=n.dataset.flsTabsIndex;function c(m){if(m.hasAttribute("data-fls-tabs-animate"))return m.dataset.flsTabsAnimate>0?Number(m.dataset.flsTabsAnimate):500}const i=c(n);if(t.length>0){const m=n.hasAttribute("data-fls-tabs-hash");t=Array.from(t).filter(r=>r.closest("[data-fls-tabs]")===n),s=Array.from(s).filter(r=>r.closest("[data-fls-tabs]")===n),t.forEach((r,e)=>{s[e].classList.contains("--tab-active")?(i?N(r,i):r.hidden=!1,m&&!r.closest(".popup")&&F(`tab-${a}-${e}`)):i?M(r,i):r.hidden=!0})}}function g(n){const s=n.target;if(s.closest("[data-fls-tabs-title]")){const t=s.closest("[data-fls-tabs-title]"),a=t.closest("[data-fls-tabs]");if(!t.classList.contains("--tab-active")&&!a.querySelector(".--slide")){let c=a.querySelectorAll("[data-fls-tabs-title].--tab-active");c.length&&(c=Array.from(c).filter(i=>i.closest("[data-fls-tabs]")===a)),c.length&&c[0].classList.remove("--tab-active"),t.classList.add("--tab-active"),u(a)}n.preventDefault()}}}window.addEventListener("load",H),(function(){const o=document.querySelectorAll("[data-quotes]");o.length&&o.forEach(d=>{const b=Array.from(d.querySelectorAll("[data-quote-item]")),f=d.parentElement,u=f?f.querySelector("[data-quote-next]"):null;if(!b.length)return;if(b.length===1){b[0].classList.add("is-active"),u&&(u.style.display="none");return}let g=0;function n(s){b.forEach((t,a)=>{t.classList.toggle("is-active",a===s)})}n(g),u&&u.addEventListener("click",()=>{g=(g+1)%b.length,n(g)})})})();const _="fls-user-theme";function I(){return new Date().getHours()}function $(){const o=document.documentElement,d=document.querySelector("[data-fls-darklite]");if(!d)return;const b=Array.from(d.querySelectorAll(".theme-aside__item"));function f(){const s=localStorage.getItem(_);if(s)return s;const t=document.querySelector("[data-fls-darklite-time]");if(t){let a=t.dataset.flsDarkliteTime||"18,5";const[c,i]=a.split(","),m=+c,r=+i,e=I();return(m<=r?e>=m&&e<=r:e>=m||e<=r)?"dark":"light"}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function u(s,{save:t=!1}={}){o.setAttribute("data-theme",s),b.forEach(a=>{const c=a.dataset.theme;a.classList.toggle("theme-aside__item--active",c===s)}),t&&localStorage.setItem(_,s)}const g=f();u(g),window.matchMedia&&!localStorage.getItem(_)&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const a=t.matches?"dark":"light";u(a)}),d.addEventListener("click",s=>{const t=s.target.closest(".theme-aside__item");if(!t)return;const a=t.dataset.theme;a&&u(a,{save:!0})});const n=document.querySelector("[data-fls-darklite-reset]");n&&n.addEventListener("click",()=>{localStorage.removeItem(_);const s=f();u(s,{save:!1})}),A&&A.log&&A.log(`Darklite: \u0430\u043A\u0442\u0438\u0432\u043D\u0430 \u0442\u0435\u043C\u0430 "${g}"`)}window.addEventListener("load",$),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-fls-moodtoday]").forEach(j)});function j(o){const d=o.querySelector(".moodtoday__scrollbars-track"),b=o.querySelector(".moodtoday__scrollbars-range"),f=o.querySelector(".moodtoday__scrollbars-thumb"),u=o.querySelector(".moodtoday__smille"),g=o.querySelector(".moodtoday__text-center"),n=o.querySelector(".moodtoday__track-emotion");if(!d||!b||!f||!u||!g||!n)return;let s=10,t=!1;const a=[{min:0,max:20,label:"Very Low",emoji:"\u{1F614}",color:"#6B52C9"},{min:20,max:40,label:"Low",emoji:"\u{1F641}",color:"#6B52C9"},{min:40,max:60,label:"Neutral",emoji:"\u{1F610}",color:"#F2B01E"},{min:60,max:80,label:"Good",emoji:"\u{1F642}",color:"#4CAF50"},{min:80,max:101,label:"Great",emoji:"\u{1F604}",color:"#4CAF50"}];function c(e){return Math.max(0,Math.min(1,e))}function i(e){const h=d.getBoundingClientRect();s=c((e-h.left)/h.width)*100,r()}function m(e){return a.find(h=>e>=h.min&&e<h.max)||a[a.length-1]}function r(){const e=s,h=m(e);b.style.width=e+"%",f.style.left=e+"%",f.setAttribute("aria-valuenow",String(Math.round(e))),g.textContent=h.label,g.style.color=h.color,u.textContent=h.emoji,u.style.filter=`drop-shadow(0 0 20px ${h.color}40)`,n.style.width=e+"%"}d.addEventListener("mousedown",function(e){e.preventDefault(),t=!0,i(e.clientX)}),f.addEventListener("mousedown",function(e){e.preventDefault(),t=!0}),document.addEventListener("mousemove",function(e){t&&i(e.clientX)}),document.addEventListener("mouseup",function(){t=!1}),d.addEventListener("touchstart",function(e){const h=e.touches[0];h&&(t=!0,i(h.clientX))},{passive:!0}),f.addEventListener("touchstart",function(e){t=!0},{passive:!0}),document.addEventListener("touchmove",function(e){if(!t)return;const h=e.touches[0];h&&i(h.clientX)},{passive:!0}),document.addEventListener("touchend",function(){t=!1}),f.addEventListener("keydown",function(e){(e.key==="ArrowLeft"||e.key==="ArrowDown")&&(s=Math.max(0,s-5),r()),(e.key==="ArrowRight"||e.key==="ArrowUp")&&(s=Math.min(100,s+5),r())}),r()}document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-fls-breathingpractice]").forEach(R)});function R(o){const d=o.querySelector(".breathingpractice__circle"),b=o.querySelector(".breathingpractice__circle-number"),f=o.querySelector(".breathingpractice__circle-text"),u=o.querySelector(".breathingpractice__button"),g=o.querySelector(".breathingpractice__button-reset");if(!d||!b||!f||!u||!g)return;let n=o.querySelector(".breathingpractice__button-label");if(!n){const l=u.querySelector("svg"),y=(u.textContent||"Start").trim();u.textContent="",l&&u.appendChild(l),n=document.createElement("span"),n.className="breathingpractice__button-label",n.textContent=y||"Start",u.appendChild(n)}const s=o.querySelectorAll(".breathingpractice_colomn-structure");if(s.length<2)return;const t=Array.from(s[0].querySelectorAll(".breathingpractice__settings-button")),a=Array.from(s[1].querySelectorAll(".breathingpractice__settings-button"));let c=!1,i="inhale",m=3,r=4,e=r,h=null;function S(l){return l==="inhale"?"#8B71EE":l==="hold"?"#F4A4BF":"#6B52C9"}function v(){const l=S(i);b.textContent=String(e),f.textContent=i,d.style.borderColor=l,d.style.boxShadow=`0 0 30px ${l}40`,d.style.background=`radial-gradient(circle, ${l}20, ${l}10)`,b.style.color=l;const y=c&&(i==="inhale"||i==="hold");d.style.width=y?"180px":"140px",d.style.height=y?"180px":"140px",c?(n.textContent="Pause",u.classList.add("breathingpractice__button--paused")):(n.textContent="Start",u.classList.remove("breathingpractice__button--paused")),t.forEach(p=>{const E=p.textContent.trim(),L=parseInt(E,10)===m;p.classList.toggle("breathingpractice__settings-button--active",L)}),a.forEach(p=>{const E=p.textContent.trim(),L=parseInt(E,10)===r;p.classList.toggle("breathingpractice__settings-button--active",L)})}function T(){h||(h=window.setInterval(function(){e<=1?(i==="inhale"?i="hold":i==="hold"?i="exhale":i="inhale",e=r):e-=1,v()},1e3))}function q(){h&&(clearInterval(h),h=null)}function k(){q(),c=!1,i="inhale",e=r,v()}u.addEventListener("click",function(){c=!c,c?T():q(),v()}),g.addEventListener("click",k),t.forEach(l=>{l.addEventListener("click",function(){const y=l.textContent.trim(),p=parseInt(y,10);isNaN(p)||(m=p,v())})}),a.forEach(l=>{l.addEventListener("click",function(){const y=l.textContent.trim(),p=parseInt(y,10);isNaN(p)||(r=p,c||(e=r),v())})});const x=t.find(l=>l.classList.contains("breathingpractice__settings-button--active"));if(x){const l=parseInt(x.textContent.trim(),10);isNaN(l)||(m=l)}const w=a.find(l=>l.classList.contains("breathingpractice__settings-button--active"));if(w){const l=parseInt(w.textContent.trim(),10);isNaN(l)||(r=l,e=l)}v()}(()=>{const o=document.querySelector(".aside__body"),d=document.querySelector(".aside__burger");if(!o||!d)return;function b(){const f=o.classList.toggle("aside__body--active");d.classList.toggle("aside__burger--close",f),typeof bodyLockToggle=="function"&&bodyLockToggle()}d.addEventListener("click",f=>{f.preventDefault(),b()}),document.addEventListener("click",f=>{if(!o.classList.contains("aside__body--active"))return;const u=f.target.closest(".aside__body"),g=f.target.closest(".aside__burger");!u&&!g&&b()})})();
