import"./main.min.js";import{g as D,d as N,s as H,a as B,b as I,F as L}from"./common.min.js";function $(){const o=document.querySelectorAll("[data-fls-tabs]");let d=[];if(o.length>0){const e=D();e&&e.startsWith("tab-")&&(d=e.replace("tab-","").split("-")),o.forEach((t,a)=>{t.classList.add("--tab-init"),t.setAttribute("data-fls-tabs-index",a),t.addEventListener("click",g),b(t)});let s=N(o,"flsTabs");s&&s.length&&s.forEach(t=>{t.matchMedia.addEventListener("change",function(){h(t.itemsArray,t.matchMedia)}),h(t.itemsArray,t.matchMedia)})}function h(e,s){e.forEach(t=>{t=t.item;let a=t.querySelector("[data-fls-tabs-titles]"),r=t.querySelectorAll("[data-fls-tabs-title]"),n=t.querySelector("[data-fls-tabs-body]"),u=t.querySelectorAll("[data-fls-tabs-item]");r=Array.from(r).filter(c=>c.closest("[data-fls-tabs]")===t),u=Array.from(u).filter(c=>c.closest("[data-fls-tabs]")===t),u.forEach((c,f)=>{s.matches?(n.append(r[f]),n.append(c),t.classList.add("--tab-spoller")):(a.append(r[f]),t.classList.remove("--tab-spoller"))})})}function b(e){let s=e.querySelectorAll("[data-fls-tabs-titles]>*"),t=e.querySelectorAll("[data-fls-tabs-body]>*");const a=e.dataset.flsTabsIndex,r=d[0]==a;if(r){const n=e.querySelector("[data-fls-tabs-titles]>.--tab-active");n&&n.classList.remove("--tab-active")}t.length&&t.forEach((n,u)=>{s[u].setAttribute("data-fls-tabs-title",""),n.setAttribute("data-fls-tabs-item",""),r&&u==d[1]&&s[u].classList.add("--tab-active"),n.hidden=!s[u].classList.contains("--tab-active")})}function l(e){let s=e.querySelectorAll("[data-fls-tabs-title]"),t=e.querySelectorAll("[data-fls-tabs-item]");const a=e.dataset.flsTabsIndex;function r(u){if(u.hasAttribute("data-fls-tabs-animate"))return u.dataset.flsTabsAnimate>0?Number(u.dataset.flsTabsAnimate):500}const n=r(e);if(t.length>0){const u=e.hasAttribute("data-fls-tabs-hash");t=Array.from(t).filter(c=>c.closest("[data-fls-tabs]")===e),s=Array.from(s).filter(c=>c.closest("[data-fls-tabs]")===e),t.forEach((c,f)=>{s[f].classList.contains("--tab-active")?(n?H(c,n):c.hidden=!1,u&&!c.closest(".popup")&&B(`tab-${a}-${f}`)):n?I(c,n):c.hidden=!0})}}function g(e){const s=e.target;if(s.closest("[data-fls-tabs-title]")){const t=s.closest("[data-fls-tabs-title]"),a=t.closest("[data-fls-tabs]");if(!t.classList.contains("--tab-active")&&!a.querySelector(".--slide")){let r=a.querySelectorAll("[data-fls-tabs-title].--tab-active");r.length&&(r=Array.from(r).filter(n=>n.closest("[data-fls-tabs]")===a)),r.length&&r[0].classList.remove("--tab-active"),t.classList.add("--tab-active"),l(a)}e.preventDefault()}}}window.addEventListener("load",$),(function(){const o=document.querySelectorAll("[data-quotes]");o.length&&o.forEach(d=>{const h=Array.from(d.querySelectorAll("[data-quote-item]")),b=d.parentElement,l=b?b.querySelector("[data-quote-next]"):null;if(!h.length)return;if(h.length===1){h[0].classList.add("is-active"),l&&(l.style.display="none");return}let g=0;function e(s){h.forEach((t,a)=>{t.classList.toggle("is-active",a===s)})}e(g),l&&l.addEventListener("click",()=>{g=(g+1)%h.length,e(g)})})})();const _="fls-user-theme";function F(){return new Date().getHours()}function O(){const o=document.documentElement,d=document.querySelector("[data-fls-darklite]");if(!d)return;const h=Array.from(d.querySelectorAll(".theme-aside__item"));function b(){const s=localStorage.getItem(_);if(s)return s;const t=document.querySelector("[data-fls-darklite-time]");if(t){let a=t.dataset.flsDarkliteTime||"18,5";const[r,n]=a.split(","),u=+r,c=+n,f=F();return(u<=c?f>=u&&f<=c:f>=u||f<=c)?"dark":"light"}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function l(s,{save:t=!1}={}){o.setAttribute("data-theme",s),h.forEach(a=>{const r=a.dataset.theme;a.classList.toggle("theme-aside__item--active",r===s)}),t&&localStorage.setItem(_,s)}const g=b();l(g),window.matchMedia&&!localStorage.getItem(_)&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const a=t.matches?"dark":"light";l(a)}),d.addEventListener("click",s=>{const t=s.target.closest(".theme-aside__item");if(!t)return;const a=t.dataset.theme;a&&l(a,{save:!0})});const e=document.querySelector("[data-fls-darklite-reset]");e&&e.addEventListener("click",()=>{localStorage.removeItem(_);const s=b();l(s,{save:!1})}),L&&L.log&&L.log(`Darklite: \u0430\u043A\u0442\u0438\u0432\u043D\u0430 \u0442\u0435\u043C\u0430 "${g}"`)}window.addEventListener("load",O),document.addEventListener("DOMContentLoaded",function(){document.querySelectorAll("[data-fls-breathingpractice]").forEach(P)});function P(o){const d=o.querySelector(".breathingpractice__circle"),h=o.querySelector(".breathingpractice__circle-number"),b=o.querySelector(".breathingpractice__circle-text"),l=o.querySelector(".breathingpractice__button"),g=o.querySelector(".breathingpractice__button-reset");if(!d||!h||!b||!l||!g)return;let e=o.querySelector(".breathingpractice__button-label");if(!e){const i=l.querySelector("svg"),p=(l.textContent||"Start").trim();l.textContent="",i&&l.appendChild(i),e=document.createElement("span"),e.className="breathingpractice__button-label",e.textContent=p||"Start",l.appendChild(e)}const s=o.querySelectorAll(".breathingpractice_colomn-structure");if(s.length<2)return;const t=Array.from(s[0].querySelectorAll(".breathingpractice__settings-button")),a=Array.from(s[1].querySelectorAll(".breathingpractice__settings-button"));let r=!1,n="inhale",u=3,c=4,f=c,y=null;function x(i){return i==="inhale"?"#8B71EE":i==="hold"?"#F4A4BF":"#6B52C9"}function v(){const i=x(n);h.textContent=String(f),b.textContent=n,d.style.borderColor=i,d.style.boxShadow=`0 0 30px ${i}40`,d.style.background=`radial-gradient(circle, ${i}20, ${i}10)`,h.style.color=i;const p=r&&(n==="inhale"||n==="hold");d.style.width=p?"180px":"140px",d.style.height=p?"180px":"140px",r?(e.textContent="Pause",l.classList.add("breathingpractice__button--paused")):(e.textContent="Start",l.classList.remove("breathingpractice__button--paused")),t.forEach(m=>{const A=m.textContent.trim(),S=parseInt(A,10)===u;m.classList.toggle("breathingpractice__settings-button--active",S)}),a.forEach(m=>{const A=m.textContent.trim(),S=parseInt(A,10)===c;m.classList.toggle("breathingpractice__settings-button--active",S)})}function w(){y||(y=window.setInterval(function(){f<=1?(n==="inhale"?n="hold":n==="hold"?n="exhale":n="inhale",f=c):f-=1,v()},1e3))}function E(){y&&(clearInterval(y),y=null)}function k(){E(),r=!1,n="inhale",f=c,v()}l.addEventListener("click",function(){r=!r,r?w():E(),v()}),g.addEventListener("click",k),t.forEach(i=>{i.addEventListener("click",function(){const p=i.textContent.trim(),m=parseInt(p,10);isNaN(m)||(u=m,v())})}),a.forEach(i=>{i.addEventListener("click",function(){const p=i.textContent.trim(),m=parseInt(p,10);isNaN(m)||(c=m,r||(f=c),v())})});const q=t.find(i=>i.classList.contains("breathingpractice__settings-button--active"));if(q){const i=parseInt(q.textContent.trim(),10);isNaN(i)||(u=i)}const T=a.find(i=>i.classList.contains("breathingpractice__settings-button--active"));if(T){const i=parseInt(T.textContent.trim(),10);isNaN(i)||(c=i,f=i)}v()}(()=>{const o=document.querySelector(".aside__body"),d=document.querySelector(".aside__burger");if(!o||!d)return;function h(){const b=o.classList.toggle("aside__body--active");d.classList.toggle("aside__burger--close",b),typeof bodyLockToggle=="function"&&bodyLockToggle()}d.addEventListener("click",b=>{b.preventDefault(),h()}),document.addEventListener("click",b=>{if(!o.classList.contains("aside__body--active"))return;const l=b.target.closest(".aside__body"),g=b.target.closest(".aside__burger");!l&&!g&&h()})})();
