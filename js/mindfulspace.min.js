import"./main.min.js";import{g as y,d as A,s as v,a as L,b as S,F as g}from"./common.min.js";function p(){const d=document.querySelectorAll("[data-fls-tabs]");let n=[];if(d.length>0){const s=y();s&&s.startsWith("tab-")&&(n=s.replace("tab-","").split("-")),d.forEach((t,a)=>{t.classList.add("--tab-init"),t.setAttribute("data-fls-tabs-index",a),t.addEventListener("click",h),c(t)});let e=A(d,"flsTabs");e&&e.length&&e.forEach(t=>{t.matchMedia.addEventListener("change",function(){f(t.itemsArray,t.matchMedia)}),f(t.itemsArray,t.matchMedia)})}function f(s,e){s.forEach(t=>{t=t.item;let a=t.querySelector("[data-fls-tabs-titles]"),l=t.querySelectorAll("[data-fls-tabs-title]"),o=t.querySelector("[data-fls-tabs-body]"),r=t.querySelectorAll("[data-fls-tabs-item]");l=Array.from(l).filter(i=>i.closest("[data-fls-tabs]")===t),r=Array.from(r).filter(i=>i.closest("[data-fls-tabs]")===t),r.forEach((i,m)=>{e.matches?(o.append(l[m]),o.append(i),t.classList.add("--tab-spoller")):(a.append(l[m]),t.classList.remove("--tab-spoller"))})})}function c(s){let e=s.querySelectorAll("[data-fls-tabs-titles]>*"),t=s.querySelectorAll("[data-fls-tabs-body]>*");const a=s.dataset.flsTabsIndex,l=n[0]==a;if(l){const o=s.querySelector("[data-fls-tabs-titles]>.--tab-active");o&&o.classList.remove("--tab-active")}t.length&&t.forEach((o,r)=>{e[r].setAttribute("data-fls-tabs-title",""),o.setAttribute("data-fls-tabs-item",""),l&&r==n[1]&&e[r].classList.add("--tab-active"),o.hidden=!e[r].classList.contains("--tab-active")})}function u(s){let e=s.querySelectorAll("[data-fls-tabs-title]"),t=s.querySelectorAll("[data-fls-tabs-item]");const a=s.dataset.flsTabsIndex;function l(r){if(r.hasAttribute("data-fls-tabs-animate"))return r.dataset.flsTabsAnimate>0?Number(r.dataset.flsTabsAnimate):500}const o=l(s);if(t.length>0){const r=s.hasAttribute("data-fls-tabs-hash");t=Array.from(t).filter(i=>i.closest("[data-fls-tabs]")===s),e=Array.from(e).filter(i=>i.closest("[data-fls-tabs]")===s),t.forEach((i,m)=>{e[m].classList.contains("--tab-active")?(o?v(i,o):i.hidden=!1,r&&!i.closest(".popup")&&L(`tab-${a}-${m}`)):o?S(i,o):i.hidden=!0})}}function h(s){const e=s.target;if(e.closest("[data-fls-tabs-title]")){const t=e.closest("[data-fls-tabs-title]"),a=t.closest("[data-fls-tabs]");if(!t.classList.contains("--tab-active")&&!a.querySelector(".--slide")){let l=a.querySelectorAll("[data-fls-tabs-title].--tab-active");l.length&&(l=Array.from(l).filter(o=>o.closest("[data-fls-tabs]")===a)),l.length&&l[0].classList.remove("--tab-active"),t.classList.add("--tab-active"),u(a)}s.preventDefault()}}}window.addEventListener("load",p),(function(){const d=document.querySelectorAll("[data-quotes]");d.length&&d.forEach(n=>{const f=Array.from(n.querySelectorAll("[data-quote-item]")),c=n.parentElement,u=c?c.querySelector("[data-quote-next]"):null;if(!f.length)return;if(f.length===1){f[0].classList.add("is-active"),u&&(u.style.display="none");return}let h=0;function s(e){f.forEach((t,a)=>{t.classList.toggle("is-active",a===e)})}s(h),u&&u.addEventListener("click",()=>{h=(h+1)%f.length,s(h)})})})();const b="fls-user-theme";function T(){return new Date().getHours()}function q(){const d=document.documentElement,n=document.querySelector("[data-fls-darklite]");if(!n)return;const f=Array.from(n.querySelectorAll(".theme-aside__item"));function c(){const e=localStorage.getItem(b);if(e)return e;const t=document.querySelector("[data-fls-darklite-time]");if(t){let a=t.dataset.flsDarkliteTime||"18,5";const[l,o]=a.split(","),r=+l,i=+o,m=T();return(r<=i?m>=r&&m<=i:m>=r||m<=i)?"dark":"light"}return window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function u(e,{save:t=!1}={}){d.setAttribute("data-theme",e),f.forEach(a=>{const l=a.dataset.theme;a.classList.toggle("theme-aside__item--active",l===e)}),t&&localStorage.setItem(b,e)}const h=c();u(h),window.matchMedia&&!localStorage.getItem(b)&&window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",t=>{const a=t.matches?"dark":"light";u(a)}),n.addEventListener("click",e=>{const t=e.target.closest(".theme-aside__item");if(!t)return;const a=t.dataset.theme;a&&u(a,{save:!0})});const s=document.querySelector("[data-fls-darklite-reset]");s&&s.addEventListener("click",()=>{localStorage.removeItem(b);const e=c();u(e,{save:!1})}),g&&g.log&&g.log(`Darklite: \u0430\u043A\u0442\u0438\u0432\u043D\u0430 \u0442\u0435\u043C\u0430 "${h}"`)}window.addEventListener("load",q),(()=>{const d=document.querySelector(".aside__body"),n=document.querySelector(".aside__burger");if(!d||!n)return;function f(){const c=d.classList.toggle("aside__body--active");n.classList.toggle("aside__burger--close",c),typeof bodyLockToggle=="function"&&bodyLockToggle()}n.addEventListener("click",c=>{c.preventDefault(),f()}),document.addEventListener("click",c=>{if(!d.classList.contains("aside__body--active"))return;const u=c.target.closest(".aside__body"),h=c.target.closest(".aside__burger");!u&&!h&&f()})})();
